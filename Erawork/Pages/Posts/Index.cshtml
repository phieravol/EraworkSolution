@page
@model Erawork.Pages.Posts.IndexModel
@{
}

<main id="wt-main" class="wt-main wt-haslayout wt-innerbgcolor">
	<div class="wt-haslayout wt-main-section">
		<!-- User Listing Start-->
		<div class="wt-haslayout">
			<div class="container">
				<div class="row">
					<div id="wt-twocolumns" class="wt-twocolumns wt-haslayout">
						<div class="col-xs-12 col-sm-12 col-md-5 col-lg-5 col-xl-4 float-left">
                            <form asp-page="./Index" method="get" class="wt-formtheme wt-formsearch">
                                <aside id="wt-sidebar" class="wt-sidebar">
									<div class="wt-widget wt-effectiveholder">
										<div class="wt-widgetcontent">
											<div class="wt-applyfilters">
												<fieldset>
                                                <div class="form-group">
                                                    <input type="text" asp-for="@Model.pagingRequest.searchTerm" class="form-control" placeholder="Search Posts">
                                                    <a href="javascrip:void(0);" class="wt-searchgbtn"><i class="lnr lnr-magnifier"></i></a>
                                                </div>
                                            </fieldset>
											</div>
										</div>
									</div>
                                    <div class="wt-widget wt-effectiveholder">
                                        <div class="wt-widgettitle">
                                            <h2>Categories</h2>
                                        </div>
                                        <div class="wt-widgetcontent">

                                            <fieldset>
                                                <div class="wt-checkboxholder wt-verticalscrollbar">
                                                    @foreach (var item in Model.Categories)
                                                    {
                                                        <span class="wt-checkbox">
                                                            <input id="category-@item.CategoryId" type="checkbox" name="pagingRequest.CategoryIds" value="@item.CategoryId.ToString()" />
                                                            <label for="category-@item.CategoryId"> @item.CategoryName</label>
                                                        </span>
                                                    }

                                                </div>
                                            </fieldset>
                                        </div>
                                    </div>
                                    <div class="wt-widget wt-effectiveholder">
                                        <div class="wt-widgettitle">
                                            <h2>Budgets</h2>
                                        </div>
                                        <div class="wt-widgetcontent">

                                            <fieldset>
                                                <div class="wt-checkboxholder">
													<span class="d-flex">
                                                        <input asp-for="@Model.pagingRequest.isAnyFilter" type="checkbox" value="@Model.pagingRequest.isAnyFilter" >
														<label asp-for="@Model.pagingRequest.isAnyFilter" class="m-2"> Find jobs with any budgets</label>
                                                    </span>
                                                    <div id="wt-productrangeslider" class="wt-productrangeslider wt-themerangeslider"></div>
                                                    <div class="wt-amountbox">
                                                        <input type="text" id="wt-consultationfeeamount" asp-for="@Model.pagingRequest.budgetRange" readonly>
                                                    </div>

                                                </div>
                                            </fieldset>
                                        </div>
                                    </div>
                                    <div class="wt-widget wt-effectiveholder">
                                        <div class="wt-widgettitle">
                                            <h2>Provider level Required</h2>
                                        </div>
                                        <div class="wt-widgetcontent">
                                            <fieldset>
                                                <div class="wt-checkboxholder">
                                                    <span class="wt-checkbox">
                                                        <input id="beginer" type="checkbox" name="pagingRequest.RequiredLevels" value="beginer">
                                                        <label for="beginer">Beginer</label>
                                                    </span>
                                                    <span class="wt-checkbox">
                                                        <input id="intermediate" type="checkbox" name="pagingRequest.RequiredLevels" value="intermediate">
                                                        <label for="intermediate"> Intermediate</label>
                                                    </span>
                                                    <span class="wt-checkbox">
                                                        <input id="profesional" type="checkbox" name="pagingRequest.RequiredLevels" value="profesional">
                                                        <label for="profesional"> Profesional</label>
                                                    </span>
                                                    <span class="wt-checkbox">
                                                        <input id="expert" type="checkbox" name="pagingRequest.RequiredLevels" value="expert">
                                                        <label for="expert">Expert</label>
                                                    </span>
                                                    <span class="wt-checkbox">
                                                        <input id="enterprise" type="checkbox" name="pagingRequest.RequiredLevels" value="enterprise">
                                                        <label for="enterprise"> Enterprise</label>
                                                    </span>
                                                </div>
                                            </fieldset>
                                        </div>
                                    </div>
									<div class="wt-widget wt-effectiveholder">
										<div class="wt-widgetcontent">
											<div class="wt-applyfilters">
												<span>Click “Apply Filter” to apply latest<br> changes made by you.</span>
												<input type="submit" value="Apply Filters" class="wt-btn border no-border">
											</div>
										</div>
									</div>
                                </aside>
                            </form>
						</div>
						<div class="col-xs-12 col-sm-12 col-md-7 col-lg-7 col-xl-8 float-left">
							<div class="wt-userlistingholder wt-haslayout">
								@if (!string.IsNullOrWhiteSpace(Model.pagingRequest.searchTerm))
								{
									<div class="wt-userlistingtitle">
										<span>@Model.CountPosts results for <em>"@Model.pagingRequest.searchTerm"</em></span>
									</div>
								}
								
								<div class="wt-filterholder">
									<ul class="wt-filtertag">
										<li class="wt-filtertagclear">
											<a href="javascrip:void(0)"><i class="fa fa-times"></i> <span>Clear All Filter</span></a>
										</li>
										<li class="alert alert-dismissable fade in">
											<a href="javascrip:void(0)"><i class="fa fa-times close" data-dismiss="alert" aria-label="close"></i> <span>Graphic Design</span></a>
										</li>
										<li class="alert alert-dismissable fade in">
											<a href="javascrip:void(0)"><i class="fa fa-times close" data-dismiss="alert" aria-label="close"></i> <span>Any Hourly Rate</span></a>
										</li>
										<li class="alert alert-dismissable fade in">
											<a href="javascrip:void(0)"><i class="fa fa-times close" data-dismiss="alert" aria-label="close"></i> <span>Any Freelancer Type</span></a>
										</li>
										<li class="alert alert-dismissable fade in">
											<a href="javascrip:void(0)"><i class="fa fa-times close" data-dismiss="alert" aria-label="close"></i> <span>Chinese</span></a>
										</li>
										<li class="alert alert-dismissable fade in">
											<a href="javascrip:void(0)"><i class="fa fa-times close" data-dismiss="alert" aria-label="close"></i> <span>English</span></a>
										</li>
									</ul>
								</div>

								@foreach (var item in Model.PostList)
								{
									<div class="wt-userlistinghold wt-featured wt-userlistingholdvtwo">
										<span class="wt-featuredtag"><img src="~/assets/images/featured.png" alt="img description" data-tipso="Plus Member" class="template-content tipso_style"></span>
										<div class="wt-userlistingcontent">
											<div class="wt-contenthead">
												<div class="wt-title">
													<a href="usersingle.html"><i class="fa fa-check-circle"></i> @item.ClientName</a>
													<h2>@item.PostTitle</h2>
												</div>
												<div class="wt-description">
													<p>@item.SortDesc</p>
												</div>
												@*<div class="wt-tag wt-widgettag">
													<a href="javascript:void(0);">PHP</a>
													<a href="javascript:void(0);">HTML</a>
													<a href="javascript:void(0);">JQuery</a>
												</div>*@
											</div>
											<div class="wt-viewjobholder">
												<ul>
													<li><span>@item.Budget <i class="fa fa-dollar-sign wt-viewjobdollar"></i></span></li>
													@if (item.Category != null)
													{
														<li><span><i class="far fa-folder wt-viewjobfolder"></i>@item.Category.CategoryName</span></li>
													}

													@if (item.ExpirationDate != null)
													{
														<li><span><i class="far fa-clock wt-viewjobclock"></i>Expire: @item.ExpirationDate.Value.ToString("dd/MM/yyyy")</span></li>
													}
													
													@*<li><span><i class="fa fa-tag wt-viewjobtag"></i>Job ID: gy3yV2Vm5u</span></li>*@
													<li><a href="javascript:void(0);" class="wt-clicklike wt-clicksave"><i class="fa fa-heart"></i> Save</a></li>
													<li class="wt-btnarea"><a asp-page="./Details" asp-route-Id="@item.PostId" class="wt-btn">View Job</a></li>
												</ul>
											</div>
										</div>
									</div>
								}
								
								@if (Model.HasPreviousPage || Model.HasNextPage)
								{
									<nav class="wt-pagination">
										<ul>
											<li class="wt-prevpage">
												<a asp-page="./Index" asp-route-CurrentPage="@((Model.pagingRequest.CurrentPage-1)==0?Model.TotalPages:(Model.pagingRequest.CurrentPage-1))" asp-route-searchTerm="@Model.pagingRequest.searchTerm" asp-route-pageSize="@Model.pagingRequest.PageSize">
													<i class="lnr lnr-chevron-left"></i>
												</a>
											</li>
											@if (Model.TotalPages <= 3)
											{
												for (int i = 1; i <= Model.TotalPages; i++)
												{
													<li><a asp-route-CurrentPage="@i" asp-route-searchTerm="@Model.pagingRequest.searchTerm" asp-route-pageSize="@Model.pagingRequest.PageSize">@i</a></li>
												}
											}
											else
											{
												for (int i = 1; i <= Model.TotalPages; i++)
												{
													<li><a asp-route-CurrentPage="@i" asp-route-searchTerm="@Model.pagingRequest.searchTerm" asp-route-pageSize="@Model.pagingRequest.PageSize">@i</a></li>
												}
												<li><a href="javascrip:void(0);">...</a></li>
												<li><a asp-route-CurrentPage="@Model.TotalPages" asp-route-searchTerm="@Model.pagingRequest.searchTerm" asp-route-pageSize="@Model.pagingRequest.PageSize">Last Page</a></li>
											}
											<li class="wt-nextpage">
												<a asp-page="./Index" asp-route-CurrentPage="@((Model.pagingRequest.CurrentPage+1)>Model.TotalPages?1:(Model.pagingRequest.CurrentPage+1))" asp-route-searchTerm="@Model.pagingRequest.searchTerm" asp-route-pageSize="@Model.pagingRequest.PageSize">
													<i class="lnr lnr-chevron-right"></i>
												</a>
											</li>
										</ul>
									</nav>
								}
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<!-- User Listing End-->
	</div>
</main>